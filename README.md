# 一键脚本

## CentOS

1. CentOS 7/8系统Shadowsocks/SS一键脚本：centos_install_ss.sh，使用教程：<https://www.hijk.pw/shadowsocks-ss-one-click-script>
2. CentOS 7/8系统ShadowsocksR/SSR一键脚本：centos_install_ssr.sh，使用教程：<https://www.hijk.pw/shadowsocksr-ssr-one-click-script/>
3. CentOS 7/8系统V2Ray一键脚本：centos_install_v2ray.sh，使用教程：<https://www.hijk.pw/centos-one-click-install-v2ray/>
4. CentOS 7/8系统带伪装V2Ray一键脚本：centos_install_v2ray2.sh，使用教程：<https://www.hijk.pw/v2ray-one-click-script-with-mask/>
5. trojan一键脚本：trojan.sh，使用教程：<https://www.hijk.pw/trojan-one-click-scrip/>

## Ubuntu

1. Ubuntu TLS系统Shadowsocks/SS一键脚本：ubuntu_install_ss.sh，使用教程：<https://www.hijk.pw/ubuntu-shadowsocks-ss-one-click-script/>
2. Ubuntu TLS系统ShadowsocksR/SS一键脚本：ubuntu_install_ssr.sh，使用教程：<https://www.hijk.pw/ubuntu-shadowsocksr-ssr-one-click-script/>
3. Ubuntu TLS系统V2Ray一键脚本：ubuntu_install_v2ray.sh，使用教程：<https://www.hijk.pw/ubuntu-one-click-install-v2ray/>
4. Ubuntu TLS系统带伪装V2Ray一键脚本：ubuntu_install_v2ray2.sh，使用教程：<https://www.hijk.pw/ubuntu-v2ray-one-click-script-with-mask/>
5. trojan一键脚本：trojan.sh，使用教程：<https://www.hijk.pw/trojan-one-click-scrip/>

# 客户端配置教程

## SS

[Shadowsocks/SS windows客户端配置教程](https://www.hijk.pw/shadowsocks-windows-client-config-tutorial/)

[Shadowsocks/SS安卓配置教程](https://www.hijk.pw/shadowsocks-android-config-tutorial/)

[小火箭(Shadowrocket)配置ss/ssr教程](https://www.hijk.pw/shadowrocket-config-shadowsocks-shadowsocksr-tutorial/)
 	
[ShadowsocksX-NG配置教程](https://www.hijk.pw/shadowsocksx-ng-config-tutorial/)

## SSR

[ShadowsocksR/SSR windows客户端配置教程](https://www.hijk.pw/shadowsocksr-ssr-windows-client-config-tutorial/)
 	
[ShadowsocksR/SSR/SSRR安卓客户端配置教程](https://www.hijk.pw/shadowsocksr-ssr-ssrr-android-config-tutorial/)

[小火箭(Shadowrocket)配置ss/ssr教程](https://www.hijk.pw/shadowrocket-config-shadowsocks-shadowsocksr-tutorial/)

[SSR版ShadowsocksX-NG配置教程](https://www.hijk.pw/ssr-shadowsocksx-ng-config-tutorial/)

## V2Ray

[V2rayN配置教程](https://www.hijk.pw/v2rayn-config-tutorial/)

[V2rayW配置教程](https://www.hijk.pw/v2rayw-config-tutorial/)

[V2rayU配置教程](https://www.hijk.pw/v2rayu-config-tutorial/)

[V2rayX配置教程](https://www.hijk.pw/v2rayx-config-tutorial/)

[V2rayNG配置教程](https://www.hijk.pw/v2rayng-config-tutorial/)

[Kitsunebi安卓版配置教程](https://www.hijk.pw/kitsunebi-android-config-tutorial/)

[bifrostV配置教程](https://www.hijk.pw/bifrostv-config-tutorial/)

[v2ray多用户配置](https://www.hijk.pw/v2ray-multiple-users/)

[v2ray伪装建站教程](https://www.hijk.pw/v2ray-mask-with-website/)

## trojan

[trojan Windows客户端配置教程](https://www.hijk.pw/trojan-windows-client-tutorial/)

[trojan安卓客户端配置教程](https://www.hijk.pw/trojan-android-client-config-tutorial/)

[trojan mac客户端配置教程](https://www.hijk.pw/trojan-mac-client-config-tutorial/)

[Shadowrocket配置trojan教程](https://www.hijk.pw/shadowrocket-config-trojan-tutorial/)

[trojan建站教程](https://www.hijk.pw/build-website-with-trojan/)

# VPS教程

[CN2 GIA商家推荐](https://www.hijk.pw/cn2-gia-merchants/)

[搬瓦工购买服务器详细教程](https://www.hijk.pw/bandwagonghost-buy-vps-tutorial/)

[购买vultr服务器超详细图文教程](https://www.hijk.pw/vultr-buy-vps-tutorial/)

[HostDare购买服务器超详细教程](https://www.hijk.pw/hostdare-buy-vps-tutorial/)

[手机购买vultr服务器图文教程](https://www.hijk.pw/buy-vultr-vps-in-mobile/)

[Bitvise连接Linux服务器教程](https://www.hijk.pw/bitvise-connect-linux-server-tutorial/)

[Mac电脑连接Linux教程](https://www.hijk.pw/mac-connect-to-linux-tutorial/)

[vultr常见问题](hijk.pw/vultr-faq/)

[v2ray使用cloudflare中转流量，拯救被墙ip](https://www.hijk.pw/use-cloudflare-unlock-blocked-ip/)

[CloudCone特价VPS促销，就在今天！](https://www.hijk.pw/cloudcone-special-vps-offers/)


# 其他

[境外apple id信息汇总](https://www.hijk.pw/external-apple-id-summary/)

[切换apple id下载其它国家和地区的应用](https://www.hijk.pw/switch-appleid-to-download-app/)

[Namesilo购买域名详细教程](https://www.hijk.pw/namesilo-buy-domain-tutorial/)

[Just My Socks购买和使用教程](https://www.hijk.pw/just-my-socks-buy-and-use-tutorial/)

[免费vpn有风险，请慎用](https://www.hijk.pw/be-careful-when-use-free-vpn/)

[科学上网常见问题](https://www.hijk.pw/vpn-faq/)

[PC端科学上网常见问题](https://www.hijk.pw/pc-vpn-problem-faq/)

[通过国内服务器转发流量](https://www.hijk.pw/forward-traffic-via-internal-vps/)

[该选用哪种加密算法？](https://www.hijk.pw/choose-crypto-method/)

[添加ipv6支持](https://www.hijk.pw/add-ipv6-support/)

[不建议开启tcp fast open功能](https://www.hijk.pw/donot-use-tcp-fast-open/)


[安装魔改BBR/BBR Plus/锐速(Lotserver)](https://www.hijk.pw/install-bbr-plus-lotserver/)

























V2Ray一键脚本
=========

#### 作者：[**跳越者**](https://www.hijk.pw/author/admin/) | 日期：2019年12月20日2019年12月20日

> 使用过程中遇到问题，请先仔细参考 [科学上网常见问题](https://www.hijk.pw/vpn-faq/)。如果不能解决您的问题，欢迎到 [网络跳越论坛](https://hijk.club) 查看解决方案和交流。

今天做了**CentOS 7/8**系统的v2ray的一键安装脚本，目前已经上传到 [Github](https://github.com/hijkpw/scripts)。如果您的系统是**Ubuntu**，请参考这个教程： [v2ray一键脚本Ubuntu版](https://www.hijk.pw/ubuntu-one-click-install-v2ray/)

**提示：**这是自己搭建科学上网环境的第三步，请确认已经做了前两步：

1.  购买服务器。想要服务器速度快请参考：[搬瓦工VPS购买教程](https://www.hijk.pw/bandwagonghost-buy-vps-tutorial/) 或 [HostDare服务器购买教程](https://www.hijk.pw/hostdare-buy-vps-tutorial/) ，想ip被封后免费换请参考：[购买vultr服务器超详细图文教程](https://www.hijk.pw/vultr-buy-vps-tutorial/)
2.  连接到服务器，Windows系统请参考 [Bitvise连接Linux服务器教程](https://www.hijk.pw/bitvise-connect-linux-server-tutorial/)，mac用户请参考 [Mac电脑连接Linux教程](https://www.hijk.pw/mac-connect-to-linux-tutorial/)

**注意：**

1\. 如果你有域名，强烈建议使用 [v2ray带伪装一键脚本](https://www.hijk.pw/v2ray-one-click-script-with-mask/)，能有效应付近些天的疯狂封杀，提供稳如狗的体验！

2\. 理论上只要流量够、服务器扛得住，同一个配置支持无数人、无限设备使用。如果想为不同的人配置不同的id，请参考：[v2ray多用户配置](https://www.hijk.pw/v2ray-multiple-users/)；

3\. 本站的一键脚本与其他网站的不能混合使用，**如果之前运行过其他的请先卸载**，否则可能导致无法上外网！

4\. **BBR换成魔改BBR/BBR Plus/锐速清参考：[安装魔改BBR/BBR Plus/锐速(Lotserver)](https://www.hijk.pw/install-bbr-plus-lotserver/)；**

5\. 这两天官方脚本会出现“unzip: cannot find zipfile directory in one of /tmp/v2ray/v2ray.zip or  
/tmp/v2ray/v2ray.zip.zip, and cannot find /tmp/v2ray/v2ray.zip.ZIP, period.  
Failed to copy V2Ray binary and resources.”的抽风现象，本站一键脚本已经做了兼容修复。

使用教程
----

登录到服务器（windows请参考 [Bitvise连接Linux服务器教程](https://www.hijk.pw/bitvise-connect-linux-server-tutorial/)，mac用户请参考 [Mac电脑连接Linux教程](https://www.hijk.pw/mac-connect-to-linux-tutorial/)），在终端（黑框框）输入如下命令：

```
bash <(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_v2ray.sh)
```

按回车键，屏幕出现 “**请设置v2ray的端口**\[1-65535\]” 的提示，输入一个你希望的端口号（例如12345，**不能是22**）。接下来屏幕上会疯狂出现一些你看得懂也可能看不懂的东西，**如果安装过程卡住，请耐心等待几分钟；**期间网络断开（windows上表现为黑框框中或者顶部标题出现“disconnected”，mac表现为终端出现“closed by remote host”或”broken pipe”），请重新连接后再次执行命令。安装成功后，会输出配置信息，截图如下：

[

![v2ray一键安装脚本](https://www.hijk.pw/wp-content/uploads/2019/12/install-v2ray.jpg)

![v2ray一键安装脚本](https://www.hijk.pw/wp-content/uploads/2019/12/install-v2ray.jpg)](https://www.hijk.pw/wp-content/uploads/2019/12/install-v2ray.jpg)

v2ray一键安装脚本

**到此服务端配置完毕**，服务器可能会自动重启(**如果没提示重启则不需要**)，windows终端出现“disconnected”，mac出现“closed by remote host”说明服务器成功重启了。

V2ray一键脚本做了如下事情：

1.  更新系统到最新版
2.  安装bbr加速模块
3.  安装v2ray并设置开机启动

客户端下载
-----

接下来是**科学上网最后一步**：下载客户端，并参考页面中的配置教程进行配置：

### [v2ray windows客户端下载](https://www.hijk.pw/v2ray-windows-client-download/)

### [v2ray安卓客户端下载](https://www.hijk.pw/v2ray-android-client-download/)

### [v2ray mac客户端下载](https://www.hijk.pw/v2ray-mac-client-download/)

### [v2ray ios客户端下载](https://www.hijk.pw/v2ray-ios-client-download/)

下载客户端配置好后，就可以愉快的上外网了！

其他
--

1\. 查看v2ray配置/运行状态：`bash <(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_v2ray.sh) info`;

2\. v2ray管理命令：启动：`systemctl start v2ray`，停止：`systemctl stop v2ray`，重启：`systemctl restart v2ray`;

3\. 更改端口、alterid最简单的办法：重新运行一键脚本；

4\. 更新v2ray到最新版：重新运行一键脚本

5\. 卸载v2ray： `bash <(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_v2ray.sh) uninstall`

运行过程中遇到问题，请随时在页面留言。

文章最后修改日期：2020年3月23日




















v2ray带伪装一键脚本
============

#### 作者：[**跳越者**](https://www.hijk.pw/author/admin/) | 日期：2020年2月3日2020年2月3日

> **Ubuntu系统**请参考： [v2ray带伪装一键脚本Ubuntu版](https://www.hijk.pw/ubuntu-v2ray-one-click-script-with-mask/)。如有问题，欢迎到 [网络跳越论坛](https://hijk.club) 查看解决方案和交流。

今天抽空完成了CentOS系统的v2ray带伪装一键安装脚本，代码已上传到 [Github](https://github.com/hijkpw/scripts)。本脚本能让您在服务端一键安装基于**Nginx+websocket+tls**的v2ray流量伪装和bbr加速模块，省心省力。部署好服务端后，请下载客户端并按教程配置好，接下来就感受稳如狗的体验吧，再也不用担心ip被墙了！

**提示：**这是自行搭建科学上网环境的第三步，请确认已经做了前两步：

1.  购买服务器和域名。想要服务器速度快请参考：[搬瓦工VPS购买教程](https://www.hijk.pw/bandwagonghost-buy-vps-tutorial/) 或 [HostDare服务器购买教程](https://www.hijk.pw/hostdare-buy-vps-tutorial/)，希望ip被封后免费换请参考：[购买vultr服务器超详细图文教程](https://www.hijk.pw/vultr-buy-vps-tutorial/)，域名购买可参考：[Namesilo购买域名详细教程](https://www.hijk.pw/namesilo-buy-domain-tutorial/)
2.  连接到服务器。Windows系统请参考 [Bitvise连接Linux服务器教程](https://www.hijk.pw/bitvise-connect-linux-server-tutorial/)，mac用户请参考 [Mac电脑连接Linux教程](https://www.hijk.pw/mac-connect-to-linux-tutorial/)

**伪装的前提是需要一个域名（例如hijk.pw），并且域名的某个主机名（例如www.hijk.pw）正确解析到服务器的ip！**如果你没有域名，请使用常规版的一键脚本：[v2ray一键脚本](https://www.hijk.pw/centos-one-click-install-v2ray/)

**注意：**

1\. 如果服务器有在运行网站，请联系网站运维再执行脚本，否则可能导致原来网站无法访问，本人不负责！

2\. 对域名没有要求，不管国内还是国外注册的都可以，**不需要备案**，不会影响使用，也不会带来安全/隐私上的问题；

3\. 根据 [Namesilo购买域名详细教程](https://www.hijk.pw/namesilo-buy-domain-tutorial/) 购买的域名，默认@和www在买之前都有解析，所以尽管www已经改成了你服务器的ip，但可能执行本脚本还会提示“主机未解析到当前服务器IP”的错误。这时你只需要换一个名称做解析即可，例如 www2;

4\. 希望上cdn，请根据本教程操作完后再阅读：[v2ray使用cloudflare中转流量，拯救被墙ip](https://www.hijk.pw/use-cloudflare-unlock-blocked-ip/)；

5\. 理论上只要流量够、服务器扛得住，同一个配置支持无数人、无限设备使用。如果想为不同的人配置不同的id，请参考：[v2ray多用户配置](https://www.hijk.pw/v2ray-multiple-users/)；

6\. **2020.3.2月更新：**目前脚本已支持更换Nginx的https端口（默认是443），如非端口被墙或特殊原因，**请使用443端口！**

7\. **BBR换成魔改BBR/BBR Plus/锐速清参考：[安装魔改BBR/BBR Plus/锐速(Lotserver)](https://www.hijk.pw/install-bbr-plus-lotserver/)；**

8\. 搭建好伪装v2ray后建站/改伪装网站请参考：[v2ray伪装建站教程](https://www.hijk.pw/v2ray-mask-with-website/)；

9\. 这两天官方脚本会出现“unzip: cannot find zipfile directory in one of /tmp/v2ray/v2ray.zip or /tmp/v2ray/v2ray.zip.zip, and cannot find /tmp/v2ray/v2ray.zip.ZIP, period. Failed to copy V2Ray binary and resources.”的抽风现象，本站一键脚本已经做了兼容修复。

10\. **2020.03.27更新**：脚本已经能检测并支持宝塔环境，但**注意要使用不同的主机名**，否则可能会覆盖原来的配置！

11\. **本脚本请勿与[trojan一键脚本](https://www.hijk.pw/trojan-one-click-scrip/) 在同一个vps上运行，除非你能手动解决冲突！**

使用教程
----

1\. 如果vps运营商开启了防火墙（阿里云、腾讯云、google云等默认开启，搬瓦工/hostdare/vultr默认放行所有端口），请先登录vps管理后台放行80和443端口，否则可能导致获取证书失败；

2\. 登录到服务器（windows请参考 [Bitvise连接Linux服务器教程](https://www.hijk.pw/bitvise-connect-linux-server-tutorial/)，mac用户请参考 [Mac电脑连接Linux教程](https://www.hijk.pw/mac-connect-to-linux-tutorial/)），在终端（黑框框）输入如下命令：

```
bash <(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_v2ray2.sh)
```

按回车键，屏幕上开始滚动各种看得懂看不懂的东西。紧盯着屏幕，直到屏幕出现“**确认满足按y，按其他退出脚本：**”，确认条件满足，按y，回车，然后**输入你域名的主机名**（注意是主机名，比如www.hijk.pw，**不建议填裸域名**hijk.pw！），设置一个**伪装路径（不能是/）**，例如/abcedf（强烈建议设置一个复杂的、别人猜不到的路径，**除 “数字、字母、/、-、\_” 外不能有其他特殊字符！**）。

接下来脚本会自动疯狂运行，**如果安装过程卡住，请耐心等待几分钟；**期间网络断开（windows上表现为黑框框中或者顶部标题出现disconnected字样，mac表现为终端出现“closed by remote host”或”broken pipe”），请重新连接后再次执行命令。脚本运行成功会输出配置信息，截图如下：

[

![带伪装v2ray配置](https://www.hijk.pw/wp-content/uploads/2020/02/带伪装v2ray配置.png)

![带伪装v2ray配置](https://www.hijk.pw/wp-content/uploads/2020/02/带伪装v2ray配置.png)](https://www.hijk.pw/wp-content/uploads/2020/02/带伪装v2ray配置.png)

带伪装v2ray配置

**到此服务端配置完毕**，服务器可能会自动重启(**没提示重启则不需要**)，windows终端出现“disconnected”，mac出现“closed by remote host”说明服务器成功重启了。

可能出现的问题
-------

1\. 多次运行一键脚本，安装过程中会出现如下提示：

What would you like to do?  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  1:  Keep the existing certificate for now 2:  Renew  & replace the cert (limit ~5 per 7 days)  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  \-  Select the appropriate number \[1\-2\]  then  \[enter\]  (press 'c' to cancel):

**输入1，回车即可。**

2\. 如果提示证书失败，终端出现如下提示：

An unexpected error occurred:  There were too many requests of a given type ::  Error creating new order :: too many certificates already issued for exact set  of domains:test2.hijk.pw: see https://letsencrypt.org/docs/rate-limits/

说明这个主机名近期申请过太多次免费证书，请换一个主机名尝试，例如test2.hijk.pw 换成 test3.hijk.pw（需要到dns控制台添加解析）。

如何判断服务端已经正常运行？
--------------

操作如下：

1\. 浏览器输入域名，打开是一个随机小说网站；**注意：**这些小说网站都是本人在网上随机找的，如果打开出现这个错误也是正常：

[

![小说网站错误截图](https://www.hijk.pw/wp-content/uploads/2020/02/小说网站错误截图-1024x972.jpeg)

![小说网站错误截图](https://www.hijk.pw/wp-content/uploads/2020/02/小说网站错误截图-1024x972.jpeg)](https://www.hijk.pw/wp-content/uploads/2020/02/小说网站错误截图.jpeg)

小说网站错误截图

2\. 输入域名加伪装路径，出现”bad request”。

如果这两个现象都是预期的，说明服务端一切正常，有问题请检查客户端配置。

**注意：**某些系统因为一些原因，打开域名显示”403 forbidden”，但是打开域名加伪装路径出现“bad request”，这也说明服务端是正常的（目前本人尚未拿到这样的系统进行测试查看原因）。

客户端下载
-----

接下来是**科学上网最后一步**：下载客户端，并参考页面中的配置教程进行配置：

### [v2ray windows客户端下载](https://www.hijk.pw/v2ray-windows-client-download/)

### [v2ray安卓客户端下载](https://www.hijk.pw/v2ray-android-client-download/)

### [v2ray mac客户端下载](https://www.hijk.pw/v2ray-mac-client-download/)

### [v2ray ios客户端下载](https://www.hijk.pw/v2ray-ios-client-download/)

下载客户端配置好后，就可以愉快的上外网了！

其他
--

1\. 查看v2ray运行状态 / 配置：`bash <(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_v2ray2.sh) info`

2\. v2ray管理命令：启动：`systemctl start v2ray`，停止：`systemctl stop v2ray`，重启：`systemctl restart v2ray`；

3\. nginx管理命令：测试配置文件有无错误：`nginx -t`，启动：`systemctl start nginx`，停止：`systemct stop nginx`，重启：`systemctl restart nginx`；

4\. 更新v2ray到最新版：重新运行一键脚本；

5\. 卸载： `bash <(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_v2ray2.sh) uninstall`；

6\. 建站/改伪装网站请参考：[v2ray伪装建站教程](https://www.hijk.pw/v2ray-mask-with-website/)。

如果运行过程中遇到问题，请随时在页面留言。

文章最后修改日期：2020年4月12日


